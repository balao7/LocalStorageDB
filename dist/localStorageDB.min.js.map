{"version":3,"sources":["webpack:///webpack/bootstrap cb4b837922838db8741d","webpack:///./src/index.js"],"names":["LocalStorageDB","key","Error","STORE_KEY","store","window","localStorage","isStorageCreated","getItem","setItem","JSON","stringify","data","storeData","get","existingData","Array","push","Object","assign","newData","pos","parse","update","splice"],"mappings":"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","file":"localStorageDB.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cb4b837922838db8741d","/**\n  @class LocalStorageDB\n  @desc  provides a robust storage interface offline on localStorage\n*/\nclass LocalStorageDB {\n  /**\n   * @method constructor\n   * @param {String} key\n   * @desc constructor to create the storage item\n   */\n  constructor(key) {\n    if (!key) {\n      throw new Error('No parameter key passed to constructor. Expected String but got undefined');\n    }\n    this.STORE_KEY = key;\n    this.store = window.localStorage;\n    const isStorageCreated = this.store.getItem(this.STORE_KEY);\n    if (!isStorageCreated) {\n      this.store.setItem(this.STORE_KEY, JSON.stringify({}));\n    }\n  }\n\n  /**\n   * @method create\n   * @param {String} key\n   * @param {Object} data\n   * @desc allows you to save data to a particular which is the key\n   */\n  create(key, data) {\n    const storeData = this.get();\n    const existingData = storeData[key];\n    if (existingData && existingData instanceof Array) {\n      existingData.push(data);\n      Object.assign(storeData[key], existingData);\n    } else if (existingData && !(existingData instanceof Array)) {\n      storeData[key] = [existingData];\n      storeData[key].push(data);\n      this.store.setItem(this.STORE_KEY, JSON.stringify(storeData));\n    } else {\n      const newData = {};\n      newData[key] = data;\n      Object.assign(storeData, newData);\n    }\n    this.store.setItem(this.STORE_KEY, JSON.stringify(storeData));\n  }\n\n  /**\n   * @method get\n   * @param {String} key\n   * @param {Number} pos\n   * @return {Object} a result set matching the request\n   */\n  get(key = null, pos = null) {\n    const storeData = JSON.parse(this.store.getItem(this.STORE_KEY));\n    if (!pos && !key) {\n      return storeData;\n    } else if (key && !pos) {\n      return storeData[key];\n    }\n    return storeData[key][pos];\n  }\n\n  /**\n   * @method update\n   * @param {Object} update\n   * @param {Object} key\n   * @param {Number} pos\n   */\n  update(update, key, pos = null) {\n    const storeData = this.get();\n    if (!pos) {\n      storeData[key] = update;\n    } else {\n      storeData[key][pos] = update;\n    }\n    this.store.setItem(this.STORE_KEY, JSON.stringify(storeData));\n  }\n\n  /**\n   * @method remove\n   * @param {Object} key\n   * @param {Number} pos\n   * @return {Boolean} return true when item is successfully removed\n   */\n  remove(key, pos = null) {\n    const storeData = this.get();\n    if (!pos) {\n      delete storeData[key];\n    } else if (storeData[key] instanceof Array) {\n      storeData[key].splice(pos, 1);\n    } else {\n      delete storeData[key][pos];\n    }\n    this.store.setItem(this.STORE_KEY, JSON.stringify(storeData));\n    return true;\n  }\n}\n\nwindow.LocalStorageDB = LocalStorageDB;\nexport default LocalStorageDB;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}